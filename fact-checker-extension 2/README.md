# Enhanced LLM Fact Checker Chrome Extension

A sophisticated Chrome extension that enables users to fact-check responses generated by Large Language Models (LLMs) using Google's Custom Search JSON API. The extension provides advanced factual verification with intelligent source assessment, contradiction detection, and detailed explanations of inaccuracies.

## Features

- 🔍 **Advanced Fact-Checking**: Highlight any text on any webpage and get sophisticated factual verification
- ✅ **Intelligent Analysis**: Uses advanced algorithms to assess factual accuracy, detect contradictions, and identify inaccuracies
- 📊 **Multiple Result Types**: True, False, Mixed, Uncertain, or Unverifiable with detailed explanations
- 🎯 **Source Reliability Assessment**: Automatically evaluates source credibility and filters for relevance
- ⚠️ **Smart Warnings**: Provides context-aware warnings for partially factual or questionable content
- 🎨 **Enhanced UI**: Modern card-style design with confidence indicators and reliability markers
- 🔒 **Secure**: API key stored locally in Chrome's secure storage
- 🌐 **Google-Powered**: Uses Google Custom Search JSON API for comprehensive web search
- 📱 **Responsive**: Works seamlessly on both desktop and mobile Chrome browsers

## Installation

### Method 1: Load Unpacked Extension (Developer Mode)

1. **Download the Extension**
   - Download or clone this repository to your local machine
   - Extract the files if downloaded as a ZIP

2. **Enable Developer Mode**
   - Open Chrome and navigate to `chrome://extensions/`
   - Toggle "Developer mode" in the top-right corner

3. **Load the Extension**
   - Click "Load unpacked" button
   - Select the `fact-checker-extension` folder
   - The extension should now appear in your extensions list

4. **Pin the Extension** (Optional)
   - Click the puzzle piece icon in Chrome's toolbar
   - Find "LLM Fact Checker" and click the pin icon to keep it visible

### Method 2: Chrome Web Store (Coming Soon)

The extension will be available on the Chrome Web Store once it passes review.

## Setup

### Getting a Google Custom Search JSON API Key and Programmable Search Engine ID

1. **Create a Google Cloud Project**
   - Go to the [Google Cloud Console](https://console.cloud.google.com/)
   - Create a new project or select an existing one

2. **Enable the Custom Search API**
   - Navigate to "APIs & Services" > "Library"
   - Search for "Custom Search API"
   - Click on it and press "Enable"

3. **Create API Credentials**
   - Go to "APIs & Services" > "Credentials"
   - Click "Create Credentials" > "API Key"
   - Copy the generated API key

4. **Create a Programmable Search Engine (CSE)**
   - Go to: [https://programmablesearchengine.google.com/](https://programmablesearchengine.google.com/)
   - Click 'Get started'
   - In the 'Sites to search' section, enter `www` (this will allow it to search the entire web, but you'll need to confirm this setting later).
   - Follow the instructions to create the engine.
   - Once created, go to 'Control Panel' -> 'Basics' -> 'Search the entire web' and ensure it's turned **ON**.
   - Copy the 'Search engine ID' (also known as `cx`).

5. **Configure the Extension**
   - Click the LLM Fact Checker extension icon in Chrome
   - Paste your API key in the provided field
   - Paste your CSE ID in the provided field
   - Click "Save"
   - The status indicator should turn green when the credentials are valid

## Usage

### Basic Fact-Checking

1. **Select Text**: Highlight any text on a webpage that you want to fact-check
2. **Right-Click**: Right-click on the selected text
3. **Choose Option**: Select "Fact-check with AI" from the context menu
4. **View Results**: A sophisticated fact-check card will appear showing:
   - **Status**: True ✓, False ✗, Mixed ⚠, Uncertain ?, or Unverifiable ○
   - **Confidence Level**: High, Medium, or Low confidence indicator
   - **Analysis**: Detailed explanation of the verification process
   - **Warnings**: Context-aware alerts for questionable or partial information
   - **Sources**: Reliable sources with credibility indicators

### Understanding Results

- **✓ True (Likely True)**: Multiple reliable sources support this claim with high confidence
- **✗ False (Likely False)**: Reliable sources contradict this claim, with explanation of inaccuracies
- **⚠ Mixed (Partially True)**: Sources show mixed evidence; some aspects may be accurate while others are not
- **? Uncertain**: Limited or conflicting information available from reliable sources
- **○ Unverifiable**: No reliable sources found to verify this claim

### Source Reliability Indicators

- **🟢 Highly Reliable**: Academic institutions, government agencies, established news organizations
- **🟡 Moderate**: General websites with unknown credibility
- **🟠 Questionable**: Blogs, social media, or potentially biased sources

### Confidence Levels

- **High Confidence**: Strong evidence from multiple reliable sources
- **Medium Confidence**: Some evidence but with limitations or mixed signals
- **Low Confidence**: Limited evidence or unreliable sources

### Tips for Best Results

- **Select Specific Claims**: Highlight specific factual statements rather than entire paragraphs
- **Focus on Verifiable Facts**: The tool works best with objective, verifiable claims
- **Review Sources**: Always check the provided sources for additional context
- **Consider Warnings**: Pay attention to warning messages about partial accuracy or reliability

## Advanced Features

### Intelligent Claim Extraction
The extension automatically identifies and extracts factual claims from selected text, focusing on verifiable statements.

### Contradiction Detection
Advanced algorithms analyze search results to detect contradictions and identify specific inaccuracies in claims.

### Source Filtering
Automatically filters and ranks sources based on reliability, relevance, and credibility.

### Context-Aware Warnings
Provides specific warnings for:
- Partially accurate information
- Context-dependent claims
- Insufficient evidence
- Potentially biased sources

## Troubleshooting

### Common Issues

**"API key not configured"**
- Make sure you've entered a valid Google Custom Search JSON API key
- Verify the API is enabled in your Google Cloud project

**"CSE ID not configured"**
- Ensure you've entered your Custom Search Engine ID (cx)
- Verify your CSE is configured to search the entire web

**"API access forbidden"**
- Check that the Custom Search API is enabled in your Google Cloud project
- Verify your API key has the necessary permissions
- Ensure your Programmable Search Engine (CSE) is configured correctly

**"Rate limit exceeded"**
- You've made too many requests in a short time
- Wait a few minutes before trying again

**Extension not working**
- Try refreshing the webpage
- Check if the extension is enabled in `chrome://extensions/`
- Make sure you're using a supported Chrome version (88+)

### Getting Help

If you encounter issues:

1. Check the browser console for error messages (F12 > Console)
2. Verify your API credentials are working by testing them in the extension popup
3. Try disabling other extensions that might interfere
4. Create an issue on the GitHub repository with details about the problem

## Privacy & Security

- **Local Storage**: Your API credentials are stored securely in Chrome's local storage
- **No Data Collection**: The extension doesn't collect or store your browsing data
- **Direct API Calls**: Search requests go directly to Google's servers
- **Open Source**: All code is available for review on GitHub

## API Usage & Costs

The Google Custom Search JSON API has usage limits:

- **Free Tier**: 100 search queries per day for free
- **Paid Tier**: If you need more, you may sign up for billing in the API Console
- **Rate Limits**: Requests are limited to prevent abuse

Monitor your usage in the Google Cloud Console to avoid unexpected charges.

## Technical Details

### Architecture

- **Manifest V3**: Uses the latest Chrome extension architecture
- **Advanced Analysis**: Implements sophisticated fact-checking algorithms
- **Content Scripts**: Inject enhanced fact-check cards into web pages
- **Background Service Worker**: Handles API calls, source analysis, and verification logic
- **Popup Interface**: Provides settings and configuration

### Permissions

The extension requires these permissions:

- `activeTab`: Access the current tab for text selection
- `storage`: Store API credentials securely
- `contextMenus`: Add right-click menu option
- `host_permissions`: Access Google's Custom Search API

### Browser Compatibility

- **Chrome**: Version 88+ (Manifest V3 support required)
- **Edge**: Version 88+ (Chromium-based)
- **Other Browsers**: Not currently supported

## Development

### Project Structure

```
fact-checker-extension/
├── manifest.json          # Extension configuration
├── popup.html            # Settings popup interface
├── css/
│   ├── popup.css         # Popup styling
│   ├── content.css       # Content script styling
│   └── fact-check-card.css # Card component styling
├── js/
│   ├── background.js     # Service worker and advanced verification logic
│   ├── content.js        # Content script for enhanced UI injection
│   └── popup.js          # Popup interface logic
├── icons/                # Extension icons (16, 32, 48, 128px)
└── README.md            # This file
```

### Building from Source

1. Clone the repository
2. No build process required - it's vanilla JavaScript
3. Load the extension in developer mode
4. Test on various websites with different types of claims

### Contributing

Contributions are welcome! Please:

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly with various fact-checking scenarios
5. Submit a pull request

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- **Google Custom Search JSON API**: Powers the web search functionality
- **Chrome Extension APIs**: Enables seamless browser integration
- **Research Community**: Fact-checking methodologies and source reliability assessment techniques

## Changelog

### Version 1.0.0
- Initial release
- Google Fact Check Tools API integration
- Context menu fact-checking
- Card-style result display
- API key management
- Error handling and user feedback

### Version 1.1.0
- Switched from Google Fact Check Tools API to Google Custom Search JSON API for broader web search grounding
- Updated result display to indicate "Information Found" or "No Information Found" with relevant sources

### Version 2.0.0 (Enhanced)
- **Advanced Fact-Checking Logic**: Implemented sophisticated verification algorithms
- **Source Reliability Assessment**: Automatic evaluation of source credibility and filtering
- **Contradiction Detection**: Identifies and explains factual inaccuracies
- **Multiple Result Types**: True, False, Mixed, Uncertain, Unverifiable with detailed explanations
- **Enhanced UI**: Confidence indicators, warning banners, and reliability markers
- **Smart Warnings**: Context-aware alerts for partially factual or questionable content
- **Improved Source Display**: Visual reliability indicators and better source organization

---

**Disclaimer**: This extension provides sophisticated factual verification based on web search results and source analysis. While it uses advanced algorithms to assess accuracy, users should always review the provided sources and exercise their own judgment. The extension indicates the reliability and confidence level of its assessments to help users make informed decisions.

